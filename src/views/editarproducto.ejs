<!DOCTYPE html>
<html lang="en">
    <%- include('./partials/head')%>
<body>
    <%- include('./partials/header-2')%>
    <%- include('./partials/menuResponsive')%>
    <div class="container-blur" id="filter"></div>


    <main>


                <div class="single-column">
                    <form action="/products/<%= productToEdit.idModelo %>/editar?_method=PUT" method="POST" class="form-login" enctype="multipart/form-data">

                    <h2 class="titulo-login">Editar Producto</h2>

                    <div class="correo-contra">
                        <label for="nombreProducto" class="label-correo">Nombre del Producto</label>
                        <input type="text" name="nombreProducto" id="nombreProducto" value="<%= productToEdit.nombreModelo %>" class="name-create" required>
                        <p class="text-name"></p>
                        <% if(locals.errors && errors.nombreProducto) { %>
                            <div class="text-danger">
                                <%= errors.nombreProducto.msg %>
                            </div>
                            
                        <% } %>

                        <label for="descripcionProducto" class="label-correo">Descripción</label>
                        <input type="textarea" name="descripcionProducto" id="descripcionProducto" class='desc-create' value="<%= productToEdit.descripcion %>" required>
                        <p class="text-desc"></p>
                        <% if(locals.errors && errors.descripcionProducto) { %>
                            <div class="text-danger">
                                <%= errors.descripcionProducto.msg %>
                            </div>
                            
                        <% } %>

                        <label for="imgProducto" class="label-correo">Imagen del producto</label>
                        <input type="file" name="imgProducto" id="imgProducto" class="img-create">
                        <p class="text-image"></p>
                        <% if(locals.errors && errors.imgProducto) { %>
                            <div class="text-danger">
                                <%= errors.imgProducto.msg %>
                            </div>
                            
                        <% } %>

                        <label for="deliveryEstimado" class="label-correo">Delivery Estimado (semanas)</label>
                        <input type="number" name="deliveryEstimado" class="delivery-create" id="deliveryEstimado" value="<%= productToEdit.deliveryEstimado %>" min="1" max="1000" required>
                        <p class="text-delivery"></p>
                        <% if(locals.errors && errors.deliveryEstimado) { %>
                            <div class="text-danger">
                                <%= errors.deliveryEstimado.msg %>
                            </div>
                            
                        <% } %>
                        
                        <label for="precioProducto" class="label-correo">Precio (USD)</label>
                        <input type="number" name="precioProducto" id="precioProducto" class="precio-create" value="<%= productToEdit.precio %>" min="1" max="1000000" required>
                        <p class="text-precio"></p>
                        <% if(locals.errors && errors.precioProducto) { %>
                            <div class="text-danger">
                                <%= errors.precioProducto.msg %>
                            </div>
                            
                        <% } %>
                        
                        <label for="autonomia" class="label-correo">Autonomía (km)</label>
                        <input type="number" name="autonomia" id="autonomia"  class="autonomia-create" value="<%= productToEdit.autonomia %>" min="1" max="1000" required>
                        <p class="text-autonomia"></p>
                        <% if(locals.errors && errors.autonomia) { %>
                            <div class="text-danger">
                                <%= errors.autonomia.msg %>
                            </div>
                            
                        <% } %>

                        <label for="velocidadMaxima" class="label-correo">Velocidad Máxima (km/h)</label>
                        <input type="number" name="velocidadMaxima" id="velocidadMaxima" class="velocidad-create" value="<%= productToEdit.velocidadMaxima %>" min="1" max="1000" required>
                        <p class="text-velocidad"></p>
                        <% if(locals.errors && errors.velocidadMaxima) { %>
                            <div class="text-danger">
                                <%= errors.velocidadMaxima.msg %>
                            </div>
                            
                        <% } %>

                        <label for="tiempoDeCeroCien" class="label-correo">Tiempo de cero a 100 km/h (seg)</label>
                        <input type="number" name="tiempoDeCeroCien" id="tiempoDeCeroCien"  class="tiempo-create" value="<%= productToEdit.tiempoDeCeroCien %>" min="1" max="1000" required>
                        <p class="text-tiempo"></p>
                        <% if(locals.errors && errors.tiempoDeCeroCien) { %>
                            <div class="text-danger">
                                <%= errors.tiempoDeCeroCien.msg %>
                            </div>
                            
                        <% } %>

                        <label for="ingreso" class="label-correo">Ingreso</label>
                        <input type="date" name="ingreso" id="ingreso" class="ingreso-create" value="<%= productToEdit.ingreso %>" required>
                        <p class="text-ingreso"></p>
                        <% if(locals.errors && errors.ingreso) { %>
                            <div class="text-danger">
                                <%= errors.ingreso.msg %>
                            </div>
                            
                        <% } %>
                    </div>
                    
                    
                    <div class="div-login-button">
                        <button class="register-button" type="submit">Guardar Producto</button>
                    </div>

                </form>

                <form action="/products/<%= productToEdit.idModelo %>/eliminar?_method=DELETE" method="POST" class="form-login">
                     <button class="register-button" type="submit" name="eliminar">Eliminar Producto</button>
                </form>
                
        
            </div>




        </main>

        <%- include('./partials/footer-2')%>
        <script src="/js/main.js" type="module"></script>
        <script src="/js/validationFrontEditProduct.js" type="module"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    </body>
    </html>